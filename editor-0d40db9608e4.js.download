"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["editor","app_assets_modules_github_fetch_ts"],{34024:(e,t,n)=>{var r,o=n(254),l=n(54697),a=n(36071),i=n(59753),s=n(97629);let c=new WeakMap;function u(e){let t=e.querySelector(".js-blob-filename"),n=t.value;return"."!==n&&".."!==n&&".git"!==n&&/\S/.test(t.value)}function d(e){let t=e.querySelector(".js-blob-contents");return"true"===t.getAttribute("data-allow-unchanged")||S(t)}function f(e){let t=e.querySelector(".js-new-filename-field");return S(t)}function m(e){return Array.from(e.querySelectorAll(".js-check-for-fork")).some(s.Z)}function p(e){return!m(e)&&!!u(e)&&(d(e)||f(e))}function b(e){let t=e.querySelector(".js-blob-contents");return!!t.getAttribute("data-allow-unchanged")||S(t)}function h(e){let t=e.querySelector(".js-blob-contents");return S(t)||f(e)}let g=null;function y(e){let t=e.getAttribute("data-github-confirm-unload");return(("yes"===t||"true"===t)&&(t=""),null==t&&(t="false"),"no"===t||"false"===t)?null:function(){return t}}function v(){let e=document.querySelector(".js-blob-form");if(!e)return;let t=e.querySelector(".js-blob-submit");t instanceof HTMLButtonElement&&(t.disabled=!p(e)),e.querySelector(".js-blob-contents-changed").value=b(e).toString(),g&&(h(e)?window.onbeforeunload=g:window.onbeforeunload=null)}function w(e){for(let t of e.querySelectorAll("input"))"hidden"===t.getAttribute("type")&&t.getAttribute("class")&&null==t.getAttribute("data-default-value")&&t.setAttribute("data-default-value",t.value)}function S(e){return null==e||("hidden"===e.type?e.value!==e.getAttribute("data-default-value"):e.value!==e.defaultValue)}function q(e){let t=e.querySelector(".js-blob-contents"),n=e.querySelector(".js-new-filename-field"),r=e.querySelector(".js-blob-filename"),o=r.hasAttribute("data-new-file");if(null!=r.defaultValue&&r.defaultValue.length&&!o)return c.set(t,n.value)}function j(e){_(e),T(e),v()}function E(e){function t(){e.focus(),e.setSelectionRange(0,0)}for(;e.value.split("/").length>1;){let n=e.value,r=n.split("/"),o=r[0],l=r.slice(1).join("/");""===o||"."===o||".git"===o?(e.value=l,window.setTimeout(t,1)):".."===o?A(e):x(e,o,l)}}function L(e){let t=k();for(let n of document.querySelectorAll(".js-template-suggestion")){let r=n.getAttribute("data-template-suggestion-pattern");if(r){let o=RegExp(r,"i"),l=o.test(t+e);if(n.classList.toggle("d-none",!l),l){let t=n.querySelector("a[data-template-button]");if(!t)return;let r=new URL(t.href,window.location.origin);r.searchParams.set("filename",e),t.href=`${r.pathname}${r.search}`}}}}function T(e){let t=!0,n=e.value?`Create ${e.value}`:"Create new file",r=e.closest("form"),o=document.querySelector(".js-blob-contents"),l=r.querySelector(".js-new-blob-commit-summary");if(!l)return;let a=document.querySelector(".js-commit-message-fallback"),i=c.get(o),s=document.querySelector(".js-new-filename-field").value;if(i){if(s!==i){let r=S(o),l=r?"Update and rename":"Rename";if(e.value.length&&s.length){let e=i.split("/"),r=s.split("/"),o=e.length-1;for(let n=0;n<e.length;n++){let l=e[n];n!==o&&l!==r[n]&&(t=!1)}n=e.length===r.length&&t?`${l} ${e[o]} to ${r[o]}`:`${l} ${i} to ${s}`}else n=`${l} ${i}`}else s===i&&(n=`Update ${e.value}`)}l.setAttribute("placeholder",n),a.value=n}function _(e){let t=k()+e.value;document.querySelector(".js-new-filename-field").value=t}function k(){let e="";for(let t of document.querySelectorAll(".js-breadcrumb-container > .js-path-segment"))e=`${e}${t.textContent}/`;return e}function A(e,t=!1){let n;t||(e.value=e.value.replace("../",""));let r=document.querySelector(".js-breadcrumb-container");if(1!==r.querySelectorAll(".separator").length){e.previousElementSibling&&e.previousElementSibling.remove();let r=e.previousElementSibling;n=r.textContent.length,r.remove(),t&&(e.value=`${r.textContent}${e.value}`)}L(e.value),window.setTimeout(function(t,n=0){(0===n||t)&&(e.focus(),e.setSelectionRange(n,n))},1,t,n)}function x(e,t,n){let r=t.trim(),o=document.querySelector(".js-breadcrumb-container");if(r.length>0){let t;let n=o.querySelectorAll(".js-path-segment a");if(n.length>1)t=n[n.length-1].pathname;else{let e=o.querySelector(".js-repo-root a");t=e.pathname}let l=document.querySelector(".js-crumb-template").cloneNode(!0);l.classList.remove("js-crumb-template"),l.querySelector("a").href=t,l.querySelector("span").textContent=r;let a=document.querySelector(".js-crumb-separator").cloneNode(!0);a.classList.remove("js-crumb-separator"),e.before(l),e.before(a)}e.value=n,L(e.value),window.setTimeout(function(){e.focus(),e.setSelectionRange(0,0)},1)}async function C(e){let t=e.currentTarget.closest(".js-blob-form"),n=(0,l.Pi)(t.querySelector(".js-code-editor"));if(null==n)return;let r=e.currentTarget.getAttribute("data-template-url"),o=await fetch(r,{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!o.ok)return;let a=await o.text();n.setCode(a)}(0,a.N7)(".js-blob-form",{constructor:HTMLFormElement,initialize(e){setTimeout(()=>{w(e),q(e),v(),g=y(e),e.addEventListener("submit",function(){window.onbeforeunload=null})})}}),(0,i.on)("change",".js-blob-contents",function(){let e=document.querySelector(".js-blob-filename");e&&j(e)}),(0,o.q6)(".js-blob-filename",function(e){let t=e.currentTarget;document.querySelector(".js-blob-contents").setAttribute("data-filename",t.value),L(t.value),j(t)}),(0,o.q6)(".js-breadcrumb-nav",function(e){let t=e.currentTarget;E(t),j(t)}),(0,a.N7)(".js-breadcrumb-nav",{constructor:HTMLInputElement,initialize(e){E(e),j(e)}}),(0,o.w4)("keydown",".js-breadcrumb-nav",function(e){let t=e.currentTarget;if("Backspace"===e.key&&0===t.selectionStart&&0===t.selectionEnd){let n=t.parentElement;n&&1!==n.querySelectorAll(".separator").length&&(A(t,!0),e.preventDefault())}j(t)}),(0,o.q6)(".js-new-blob-commit-summary",function(e){let t=e.currentTarget,n=t.closest(".js-file-commit-form"),r=n.querySelector(".js-too-long-error");r.classList.toggle("d-none",t.value.length<=50)}),(0,a.N7)(".js-check-for-fork",function(e){let t=e.closest("form"),n=t.querySelector(".js-blob-submit");e.addEventListener("load",function(){!0===m(t)&&(n.disabled=!0)})}),(0,i.on)("click",".js-citation-template",async function(e){await C(e)}),(0,i.on)("change",".js-gitignore-template input[type=radio]",async function(e){await C(e)}),(0,a.N7)(".js-file-commit-form",function(e){let t=new URLSearchParams(window.location.search.slice(1));if("true"===t.get("start_commit")){let t=e.querySelector(".js-details-target");t&&t.click()}});var R=n(46263),$=n(58700),H=n(67525),M=n(76006),P=n(61564),D=function(e,t,n,r){var o,l=arguments.length,a=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(l<3?o(a):l>3?o(t,n,a):o(t,n))||a);return l>3&&a&&Object.defineProperty(t,n,a),a};let N=["loading-preview","show-preview","no-changes-preview","error-preview"],O=["show-code"].concat(N),I=((r=class BlobEditorElement extends HTMLElement{async connectedCallback(){if(this.discoveredSecrets){let e=await (0,l.gD)(this);P.n.annotateDiscoveredSecrets(e.editor,this.discoveredSecrets)}}}).attrPrefix="",r);function U(e){return e.classList.contains("show-code")?"show-code":e.classList.contains("template-editor")?"template-editor":"preview"}function F(e){let t=U(e);for(let n of e.querySelectorAll(".js-blob-edit-tab")){let e=n.getAttribute("data-tab")===t;n.classList.toggle("selected",e),e?n.setAttribute("aria-current","true"):n.removeAttribute("aria-current")}(0,i.f)(document.querySelector(".js-file-editor-nav"),"tab:change",{name:t})}function W(e){for(let t of[".md",".mkdn",".mkd",".mdown",".markdown"])if(e.endsWith(t))return!0;return!1}function V(e){return"true"===e.getAttribute("data-is-gist")}function B(e,t){return(V(e)?e:t).querySelector(".js-blob-filename")}function X(e,t,n){let r=B(e,t);V(e)?r.readOnly=!n:r.disabled=!n,r.style.cursor=n?"auto":"not-allowed"}function z(e){let t=e.closest(".file-header"),n=t.querySelector(".js-file-editor-nav");n.hidden=!W(e.value)}function Z(e){let t=e.currentTarget.closest(".js-code-editor");if(t.classList.contains("show-code"))return;t.querySelector(".js-blob-edit-code").removeAttribute("data-hotkey"),ee(t,"show-code"),F(t);let n=(0,l.Pi)(t);n?(n.refresh(),n.focus()):t.classList.contains("js-mobile-code-editor")&&t.querySelector(".js-code-textarea").focus();let r=t.closest(".js-blob-form");X(t,r,!0)}function Y(){let e=document.querySelector(".js-branch-name-label-container"),t=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked");e&&(t?e.hidden=!0:e.hidden=!1)}function G(e,t){let n=t.querySelector(".js-preview-diff-toggle");return n&&n instanceof HTMLInputElement?!n.checked:J(t)}function J(e){return"true"===e.getAttribute("data-simplediff-enabled")}function K(e){let t=e.currentTarget.closest(".js-code-editor");if(!t.classList.contains("show-code")&&!t.classList.contains("template-editor"))return;t.querySelector(".js-blob-edit-code").setAttribute("data-hotkey","Control+P,Meta+P");let n=t.closest(".js-blob-form");return en(t,n,!V(t),!V(t)&&G(e,t))}function Q(e){let t=e.currentTarget;if(t instanceof HTMLInputElement){let n=t.checked,r=e.currentTarget.closest(".js-code-editor"),o=r.closest(".js-blob-form");return en(r,o,!0,!n)}}function ee(e,t){e.classList.remove(...O),e.classList.add(t);let n=e.querySelector(".preview-actions");n instanceof HTMLElement&&(n.hidden=!N.includes(t))}D([M.Lj],I.prototype,"discoveredSecrets",void 0),I=D([M.Ih],I),(0,o.w4)("keypress","input.js-blob-filename",function(e){if("Enter"===e.key){let t=e.target.form,n=t.querySelector("select.js-code-indent-mode");n&&n.focus(),e.preventDefault()}}),(0,o.w4)("keyup",".js-code-editor[data-is-gist] input.js-blob-filename",function(e){let t=e.target;z(t)}),(0,a.N7)(".js-branch-name-label-container",Y),(0,a.N7)(".js-gist-filename",{add(e){z(e)}}),(0,i.on)("click",".js-blob-edit-code",Z),(0,i.on)("click",".js-blob-edit-preview",K),(0,i.on)("click",".js-preview-diff-toggle",Q),(0,i.on)("codeEditor:preview",".js-code-textarea",function(e){let t=e.currentTarget.closest(".js-code-editor");t.classList.contains("show-code")&&K(e)});let et=null;async function en(e,t,n,r){ee(e,"loading-preview"),F(e),X(e,t,!1);let o=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked"),a=document.querySelector(".js-blob-preview-form"),i=(0,l.Pi)(e),s=null,c=1;if(null!=i)s=i.code(),c=i.editor.getCursor("from").line+1;else{if(!e.classList.contains("js-mobile-code-editor"))return;let t=e.querySelector(".js-code-textarea");c=(s=t.value).substring(0,t.selectionStart).split(/\r?\n/).length}V(e)?(0,$.DN)(a,{blobname:t.querySelector(".js-blob-filename").value,code:s}):(0,$.DN)(a,{code:s,commit:t.querySelector(".js-commit-oid").value,blobname:t.querySelector(".js-blob-filename").value,willcreatebranch:o.toString(),checkConflict:n.toString()}),et?.abort();let{signal:u}=et=new AbortController;try{let t=new URL(a.action,window.location.origin);r&&t.searchParams.append("avoiddiff","true");let n=await fetch(t.toString(),{method:a.method,body:new FormData(a),signal:u});if(!n.ok)throw Error("network error");let o=await n.text();if(!e.classList.contains("loading-preview"))return;let l=(0,H.r)(document,o),i=V(e)?l:l.querySelector(".data.highlight");if(i||(i=l.querySelector("#readme")),i||(i=l.querySelector(".js-preview-new-file")),i||(i=l.querySelector(".js-preview-msg")),!i&&(i=l.querySelector(".render-container"))&&i.classList.add("is-render-requested"),i){let t=e.querySelector(".js-commit-preview");t.textContent="",t.appendChild(i),ee(e,"show-preview"),er(t,c)}else ee(e,"no-changes-preview")}catch(t){e&&ee(e,"error-preview")}}function er(e,t){if(!e.querySelector(".markdown-body")||!e.querySelector("[data-sourcepos]"))return;let n=null;for(let r=t;r>=t-50&&!(n=e.querySelector(`[data-sourcepos^="${r}:"]`));r--);n?.scrollIntoView({block:"start"})}(0,i.on)("change",".js-quick-pull-choice-option",function(e){let t="quick-pull"===e.currentTarget.value,n=document.querySelector(".js-quick-pull-target-branch"),r=document.querySelector(".js-quick-pull-choice-value"),o=document.querySelector(".js-blob-submit");if(Y(),t){let e=document.querySelector(".js-quick-pull-new-branch-name"),t=e.getAttribute("data-generated-branch");!e.value.length&&t&&(e.value=t),n.value=e.value,r.value=n.getAttribute("data-default-value")||"",o.textContent=o.getAttribute("data-pull-text")||""}else n.value=n.getAttribute("data-default-value")||"",r.value="",o.textContent=o.getAttribute("data-edit-text")||""}),(0,i.on)("click",".js-quick-pull-choice-option",function(e){let t="quick-pull"===e.currentTarget.value;if(t){let t=document.querySelector(".js-quick-pull-new-branch-name");t&&!(0===e.clientX&&0===e.clientY)&&(t.focus(),t.select())}});let eo=null,el=null;async function ea(){let e=document.querySelector(".js-quick-pull-new-branch-name"),t=e.value,n=e.getAttribute("data-generated-branch"),r=document.querySelector(".js-quick-pull-normalization-info"),o=new FormData;o.append("ref",t);let l=e.getAttribute("data-check-url"),a=e.parentElement.querySelector(".js-data-check-url-csrf");eo?.abort();let{signal:i}=eo=new AbortController;try{let s=await fetch(l,{mode:"same-origin",method:"POST",body:o,signal:i,headers:{Accept:"application/json","Scoped-CSRF-Token":a.value}});if(!s.ok)throw Error("network error");let c=await s.json();if(t!==e.value)return;let u=c.normalized_ref;if(r.innerHTML=null==c.message_html?"":c.message_html,!u){let e=r.querySelector("code");e.textContent=n}el&&(el.value=u)}catch(n){if(t!==e.value)return;el&&(el.value=t)}}let ei=(0,R.D)(ea,200);(0,o.q6)(".js-quick-pull-new-branch-name",function(e){let t=e.target.value;(el=document.querySelector(".js-quick-pull-target-branch")).value=t,t.length&&ei()}),(0,i.on)("click","[data-template-button]",function(){window.onbeforeunload=null});var es=n(57958),ec=n(82936),eu=n(34892),ed=n(81775),ef=n(40458);function em(e){let t=document.querySelector(".js-resolve-conflicts-form");return t.elements.namedItem(e)}let ep=new WeakMap;function eb(e){let t=em(e);return ep.get(t)}function eh(e,t){ep.set(em(e),t)}async function eg(e){let t=document.querySelector(".js-code-editor");if(!(t instanceof HTMLElement))return;let n=await (0,l.gD)(t);function r(){let t=e.getAttribute("data-filename")||"",n=`files[${t}]`,r=eb(n);if(null==r)throw Error("Expected file data to be loaded and was not");ey(r)}n.off("change",r),n.on("change",r);let o=t.closest(".js-conflict-resolver");null!=o&&(o.classList.add("loading"),n.loading(async()=>{let t=e.getAttribute("data-filename");if(!t)return;let r=`files[${t}]`,l=document.querySelector(".js-resolve-file-form");for(let n of(l.elements.namedItem("filename").value=r,l.querySelector(".js-filename").textContent=decodeURIComponent(t),l.classList.toggle("is-resolved",e.classList.contains("resolved")),e.parentNode.children))n.classList.toggle("selected",n===e);let a=eb(r);if(!a){let t=await fetch(e.href,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!t.ok){let e=Error(),n=t.statusText?` ${t.statusText}`:"";throw e.message=`HTTP ${t.status}${n}`,e}let n=await t.json();ey(a={document:ec.Z.Doc(n.conflicted_file.data,n.conflicted_file.codemirror_mime_type),headDocument:ec.Z.Doc(n.head.data,n.head.codemirror_mime_type),baseDocument:ec.Z.Doc(n.base.data,n.base.codemirror_mime_type),conflicts:[]}),eh(r,a)}o.classList.remove("loading"),n.setDocument(a.document),document.querySelector(".js-code-editor .js-conflict-count").textContent=new Intl.NumberFormat("en-US").format(a.conflicts.length);let i=document.querySelector(".js-code-editor .js-conflict-label");i.textContent=i.getAttribute(1===a.conflicts.length?"data-singular-string":"data-plural-string"),ev(!0)}))}function ey(e){let t={};e.conflicts=[],e.document.eachLine(n=>{if(!n)return;let r=e.document;if(r.setGutterMarker(n,"merge-gutter",null),!t.start&&/^<<<<<<</.test(n.text)?t.start=n:t.start&&/^=======/.test(n.text)?t.middle=n:t.start&&/^>>>>>>>/.test(n.text)&&(t.end=n),t.start){let e=".js-line";t.start===n?e=".js-start":t.middle===n?e=".js-middle":t.end===n&&(e=".js-end");let o=document.querySelector(`.js-conflict-gutters ${e}`).cloneNode(!0);r.setGutterMarker(n,"merge-gutter",o)}t.end&&(e.conflicts.push(t),t={})})}function ev(e){let t=document.querySelector(".js-resolve-file-form"),n=t.elements.namedItem("filename").value,r=eb(n);if(null==r)throw Error("Expected file data to be loaded and was not");let o=r.document.getCursor().line,l=r.conflicts,a=null;for(let t=e?0:l.length-1;e?t<l.length:t>=0;e?t++:t--){let n=l[t].middle;if(null==n)continue;let i=r.document.getLineNumber(n);if(e&&i>o||!e&&i<o){a=i;break}}null!=a&&r.document.setCursor(a,0),r.document.getEditor().focus()}(0,i.on)("click","a.js-conflicted-file",function(e){let t=e.currentTarget;e.preventDefault(),eg(t)}),(0,i.on)("click",".js-prev-conflict",function(e){ev(!1),e.preventDefault()}),(0,i.on)("click",".js-next-conflict",function(e){ev(!0),e.preventDefault()}),(0,i.on)("submit","form.js-resolve-file-form",function(e){let t=e.currentTarget;if(e.preventDefault(),t.querySelector("button.js-mark-resolved").classList.contains("disabled"))return;let n=document.querySelector(".js-conflicted-file.selected");n&&n.classList.add("resolved");let r=document.querySelectorAll(".js-conflicted-file.resolved").length,o=document.querySelectorAll(".js-conflicted-file").length;if(r===o){let e=document.querySelector(".js-resolve-conflicts-complete");e&&e.classList.remove("d-none");let t=document.querySelector(".js-resolve-file-form");t&&t.classList.add("is-resolved")}let l=n;if(null!=l)do l=l.nextElementSibling;while(l&&!l.classList.contains("js-conflicted-file"))if(l instanceof HTMLAnchorElement)return eg(l)}),(0,i.on)("submit","form.js-resolve-conflicts-form",async function(e){let t=e.currentTarget;e.preventDefault(),await (0,ef.Z)();let n=new FormData(t),r=t.querySelectorAll("input.js-file");for(let e of r){let t=eb(e.name);if(null==t)throw Error("Expected file data to be loaded and was not");n.append(e.name,t.document.getValue())}let o=await fetch(t.action,{method:"POST",body:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok){let e=Error(),t=o.statusText?` ${o.statusText}`:"";throw e.message=`HTTP ${o.status}${t}`,e}let a=await o.json();try{if(a.error)throw Error(a.error);await (0,eu.DF)(a.job.url);let e=document.querySelector(".js-code-editor"),t=await (0,l.gD)(e);t.clearConfirmUnloadMessage(),window.location.pathname+="/.."}catch(n){let e=document.querySelector(".js-resolve-conflicts-complete");e&&e.classList.toggle("d-none");let t=document.querySelector(".js-resolve-conflicts-failed");t&&t.classList.toggle("d-none")}}),(0,i.on)("change",".js-conflict-resolver .js-code-editor",async function(e){let t=e.currentTarget,n=await (0,l.gD)(t),r=document.querySelector(".js-resolve-file-form"),o=r.elements.namedItem("filename").value,a=eb(o);if(null==a)throw Error("Expected file data to be loaded and was not");let i=0!==a.conflicts.length||/^[<>]{7}/m.test(n.code()),s=t.querySelector("button.js-mark-resolved");s.classList.toggle("disabled",i),s.classList.toggle("tooltipped",i);let c=i?s.getAttribute("data-disabled-label"):"";c&&s.setAttribute("aria-label",c)}),(0,a.N7)(".js-conflict-list",function(e){let t=e.querySelector(".js-conflicted-file");t instanceof HTMLAnchorElement&&eg(t);let n=document.querySelector(".new-discussion-timeline");n&&(n.classList.remove("px-3"),n.classList.add("p-0"))}),(0,i.on)("change",".js-conflict-resolution-choice-option",function(e){let t=e.target,n=t.closest(".js-resolve-conflicts-form"),r=n.querySelector(".js-resolve-conflicts-button"),o=n.querySelector(".js-quick-pull-new-branch-name");"direct"===t.value?(r.textContent=r.getAttribute("data-update-text"),r.removeAttribute("data-disable-invalid"),r.removeAttribute("disabled"),o.setAttribute("disabled","true")):(r.textContent=r.getAttribute("data-new-branch-text"),r.setAttribute("data-disable-invalid","true"),o.removeAttribute("disabled"),(0,ed.G)(n))})},81775:(e,t,n)=>{n.d(t,{G:()=>c});var r=n(254),o=n(36071),l=n(59753);function a(e){let t=e.getAttribute("data-required-value"),n=e.getAttribute("data-required-value-prefix");if(e.value===t)e.setCustomValidity("");else{let r=t;n&&(r=n+r),e.setCustomValidity(r)}}(0,r.q6)("[data-required-value]",function(e){let t=e.currentTarget;a(t)}),(0,l.on)("change","[data-required-value]",function(e){let t=e.currentTarget;a(t),c(t.form)}),(0,r.q6)("[data-required-trimmed]",function(e){let t=e.currentTarget;""===t.value.trim()?t.setCustomValidity(t.getAttribute("data-required-trimmed")):t.setCustomValidity("")}),(0,l.on)("change","[data-required-trimmed]",function(e){let t=e.currentTarget;""===t.value.trim()?t.setCustomValidity(t.getAttribute("data-required-trimmed")):t.setCustomValidity(""),c(t.form)}),(0,r.ZG)("input[pattern],input[required],textarea[required],input[data-required-change],textarea[data-required-change],input[data-required-value],textarea[data-required-value]",e=>{let t=e.checkValidity();function n(){let n=e.checkValidity();n!==t&&e.form&&c(e.form),t=n}e.addEventListener("input",n),e.addEventListener("blur",function t(){e.removeEventListener("input",n),e.removeEventListener("blur",t)})});let i=new WeakMap;function s(e){i.get(e)||(e.addEventListener("change",()=>c(e)),i.set(e,!0))}function c(e){let t=e.checkValidity();for(let n of e.querySelectorAll("button[data-disable-invalid]"))n.disabled=!t}(0,o.N7)("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(e){let t=e.form;t&&(s(t),e.disabled=!t.checkValidity())}}),(0,o.N7)("input[data-required-change], textarea[data-required-change]",function(e){let t="radio"===e.type&&e.form?e.form.elements.namedItem(e.name).value:null;function n(n){let r=e.form;if(n&&"radio"===e.type&&r&&t)for(let n of r.elements.namedItem(e.name))n instanceof HTMLInputElement&&n.setCustomValidity(e.value===t?"unchanged":"");else e.setCustomValidity(e.value===(t||e.defaultValue)?"unchanged":"")}e.addEventListener("input",n),e.addEventListener("change",n),n(),e.form&&c(e.form)}),document.addEventListener("reset",function(e){if(e.target instanceof HTMLFormElement){let t=e.target;setTimeout(()=>c(t))}})},54697:(e,t,n)=>{n.d(t,{Pi:()=>a,gD:()=>i,hX:()=>c,l8:()=>s});var r=n(59753);let o=new WeakMap,l=new WeakMap;function a(e){return o.get(e)}async function i(e){return o.get(e)||u(await d(e,"codeEditor:ready"))}function s(e,t){l.set(e,t)}function c(e){return l.get(e)}function u(e){if(!(e instanceof CustomEvent))throw Error("assert: event is not a CustomEvent");let t=e.detail.editor;if(!e.target)throw Error("assert: event.target is null");return o.set(e.target,t),t}function d(e,t){return new Promise(n=>{e.addEventListener(t,n,{once:!0})})}(0,r.on)("codeEditor:ready",".js-code-editor",u)},19146:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(59753);async function o(e){let t=document.querySelector("#site-details-dialog"),n=t.content.cloneNode(!0),o=n.querySelector("details"),l=o.querySelector("details-dialog"),a=o.querySelector(".js-details-dialog-spinner");e.detailsClass&&o.classList.add(...e.detailsClass.split(" ")),e.dialogClass&&l.classList.add(...e.dialogClass.split(" ")),e.label?l.setAttribute("aria-label",e.label):e.labelledBy&&l.setAttribute("aria-labelledby",e.labelledBy),document.body.append(n);try{let t=await e.content;a.remove(),l.prepend(t)}catch(n){a.remove();let t=document.createElement("span");t.textContent=e.errorMessage||"Couldn't load the content",t.classList.add("my-6"),t.classList.add("mx-4"),l.prepend(t)}return o.addEventListener("toggle",()=>{o.hasAttribute("open")||((0,r.f)(l,"dialog:remove"),o.remove())}),l}},34892:(e,t,n)=>{n.d(t,{DF:()=>f,Fr:()=>m,a_:()=>d});var r=n(67525);function o(e){let t=[...e.querySelectorAll("meta[name=html-safe-nonce]")].map(e=>e.content);if(t.length<1)throw Error("could not find html-safe-nonce on document");return t}let l=class ResponseError extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),this.response=t}};function a(e,t,n=!1){let r=t.headers.get("content-type")||"";if(!n&&!r.startsWith("text/html"))throw new l(`expected response with text/html, but was ${r}`,t);if(n&&!(r.startsWith("text/html")||r.startsWith("application/json")))throw new l(`expected response with text/html or application/json, but was ${r}`,t);let o=t.headers.get("x-html-safe");if(o){if(!e.includes(o))throw new l("response X-HTML-Safe nonce did not match",t)}else throw new l("missing X-HTML-Safe nonce",t)}var i=n(22490),s=n(7180);let c="server-x-safe-html",u=i.Z.createPolicy(c,{createHTML:(e,t)=>s.O.apply({policy:()=>(a(o(document),t),e),policyName:c,fallback:e,silenceErrorReporting:!0})});async function d(e,t,n){let o=new Request(t,n);o.headers.append("X-Requested-With","XMLHttpRequest");let l=await self.fetch(o);if(l.status<200||l.status>=300)throw Error(`HTTP ${l.status}${l.statusText||""}`);let a=u.createHTML(await l.text(),l);return(0,r.r)(e,a)}function f(e,t,n=1e3,r=[200]){return async function n(o){let l=new Request(e,t);l.headers.append("X-Requested-With","XMLHttpRequest");let a=await self.fetch(l);if(202===a.status)return await new Promise(e=>setTimeout(e,o)),n(1.5*o);if(r.includes(a.status))return a;if(a.status<200||a.status>=300)throw Error(`HTTP ${a.status}${a.statusText||""}`);throw Error(`Unexpected ${a.status} response status from poll endpoint`)}(n)}async function m(e,t,n){let{wait:r=500,acceptedStatusCodes:o=[200],max:l=3,attempt:a=0}=n||{},i=async()=>new Promise((n,i)=>{setTimeout(async()=>{try{let r=new Request(e,t);r.headers.append("X-Requested-With","XMLHttpRequest");let i=await self.fetch(r);if(o.includes(i.status)||a+1===l)return n(i);n("retry")}catch(e){i(e)}},r*a)}),s=await i();return"retry"!==s?s:m(e,t,{wait:r,acceptedStatusCodes:o,max:l,attempt:a+1})}},67525:(e,t,n)=>{n.d(t,{r:()=>i});var r=n(22490),o=n(7180);let l="parse-html-no-op",a=r.Z.createPolicy(l,{createHTML:e=>o.O.apply({policy:()=>e,policyName:l,fallback:e,sanitize:!1,fallbackOnError:!0})});function i(e,t){let n=e.createElement("template");return n.innerHTML=a.createHTML(t),e.importNode(n.content,!0)}},61564:(e,t,n)=>{n.d(t,{n:()=>CodeEditorExtensions});var r=n(76006),o=function(e,t,n,r){var o,l=arguments.length,a=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(a=(l<3?o(a):l>3?o(t,n,a):o(t,n))||a);return l>3&&a&&Object.defineProperty(t,n,a),a};let l=class BypassReasonSelectorElement extends HTMLElement{reasonSelected(){this.submitBtn.disabled=!1}copyBlobFields(){let e=document.querySelector(".js-blob-form"),t=document.querySelector(".js-bypass-form");if(e instanceof HTMLFormElement&&t instanceof HTMLFormElement)for(let n of(this.createHiddenInputField(t,"value",document.querySelector(".js-blob-contents").value),this.createHiddenInputField(t,"description",document.querySelector("#commit-description-textarea").value),e.elements))n instanceof HTMLInputElement&&n.name&&!n.name.includes("gitignore")&&"authenticity_token"!==n.name&&this.createHiddenInputField(t,n.name,n.value)}createHiddenInputField(e,t,n){let r=document.createElement("input");r.type="hidden",r.name=t,r.id=`${t}_hidden`,r.value=n,e.appendChild(r),r.required=!0}};o([r.fA],l.prototype,"submitBtn",void 0),l=o([r.Ih],l);var a=n(93928),i=n(49421);let CodeEditorExtensions=class CodeEditorExtensions{static parseDiscoveredSecrets(e,t){let n=JSON.parse(t);if(0===n.length||n[0].locations?.length===0)return null;let r=n[0].locations[0],o=e.split(/\r?\n/),l=r.start_line||r.startLine,i=r.end_line||r.endLine,s=r.start_line_byte_position||r.startLineBytePosition||0,c=r.end_line_byte_position||r.endLineBytePosition,u=l-1,d=i-1;if(!(u>d)&&!(u<0)&&!(d>o.length)&&o[u]&&o[d])return{startLine:u,endLine:d,startLineCharacter:(0,a.yb)(o[u],s),endLineCharacter:(0,a.yb)(o[d],c)}}static annotateDiscoveredSecrets(e,t){if(!e)return;let n=CodeEditorExtensions.parseDiscoveredSecrets(e.getValue(),t);if(!n)return;let{startLine:r,endLine:o,startLineCharacter:l,endLineCharacter:a}=n;e.markText({line:r,ch:l},{line:o,ch:a},{className:"CodeMirror-lint-mark-error"})}static emitAnnotateDiscoveredSecrets(e,t,n){let r=CodeEditorExtensions.parseDiscoveredSecrets(e,t);if(!r)return;let{startLine:o,endLine:l,startLineCharacter:a,endLineCharacter:s}=r;(0,i.a)("secret-detected:lint",n,{from:{lineNumber:o,character:a},to:{lineNumber:l,character:s},severity:"error"})}}},40458:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(19146),o=n(34892);function l(e){return new Promise(t=>{e.addEventListener("dialog:remove",t,{once:!0})})}function a(e){let t=document.querySelector(".sso-modal");t&&(t.classList.remove("success","error"),e?t.classList.add("success"):t.classList.add("error"))}function i(e){let t=document.querySelector("meta[name=sso-expires-around]");t&&t.setAttribute("content",e)}async function s(){let e=document.querySelector("link[rel=sso-modal]"),t=await (0,r.W)({content:(0,o.a_)(document,e.href),dialogClass:"sso-modal"}),n=null,s=window.external;if(s.ssoComplete=function(e){e.error?a(n=!1):(a(n=!0),i(e.expiresAround),window.focus()),s.ssoComplete=null},await l(t),!n)throw Error("sso prompt canceled")}function c(e){if(!(e instanceof HTMLMetaElement))return!0;let t=parseInt(e.content),n=new Date().getTime()/1e3;return n>t}async function u(){let e=document.querySelector("link[rel=sso-session]"),t=document.querySelector("meta[name=sso-expires-around]");if(!(e instanceof HTMLLinkElement)||!c(t))return!0;let n=e.href,r=await fetch(n,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),o=await r.json();return o}(0,n(36071).N7)(".js-sso-modal-complete",function(e){if(window.opener&&window.opener.external.ssoComplete){let t=e.getAttribute("data-error"),n=e.getAttribute("data-expires-around");window.opener.external.ssoComplete({error:t,expiresAround:n}),window.close()}else{let t=e.getAttribute("data-fallback-url");t&&(window.location.href=t)}});let d=null;function f(){d=null}async function m(){let e=await u();e||(d||(d=s().then(f).catch(f)),await d)}},93928:(e,t,n)=>{function r(e){let t=e.split("\u200D"),n=0;for(let e of t){let t=Array.from(e.split(/[\ufe00-\ufe0f]/).join("")).length;n+=t}return n/t.length}function o(e,t,n,r=!0){let o=e.value.substring(0,e.selectionEnd||0),l=e.value.substring(e.selectionEnd||0);return i(e,(o=o.replace(t,n))+(l=l.replace(t,n)),o.length,r),n}function l(e,t,n){if(null===e.selectionStart||null===e.selectionEnd)return o(e,t,n);let r=e.value.substring(0,e.selectionStart),l=e.value.substring(e.selectionEnd);return i(e,r+n+l,r.length),n}function a(e,t,n={}){let r=e.selectionEnd||0,o=e.value.substring(0,r),l=e.value.substring(r),a=""===e.value||o.match(/\n$/)?"":"\n",i=n.appendNewline?"\n":"",s=a+t+i;e.value=o+s+l;let c=r+s.length;return e.selectionStart=c,e.selectionEnd=c,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),e.focus(),s}function i(e,t,n,r=!0){e.value=t,r&&(e.selectionStart=n,e.selectionEnd=n),e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}function s(e,t){let n=[...e],r=new TextEncoder,o=new Uint8Array(4);for(let e=0;e<n.length;e++){let l=n[e],{written:a,read:i}=r.encodeInto(l,o);if(!a||!i)return -1;let s=a-i;if(0!==s&&(e<t&&(t-=s),e>=t))break}return t}n.d(t,{Om:()=>a,lp:()=>o,rq:()=>r,t4:()=>l,yb:()=>s})},97629:(e,t,n)=>{function r(e){return e.offsetWidth<=0&&e.offsetHeight<=0}function o(e){return!r(e)}n.d(t,{Z:()=>o})},89359:(e,t,n)=>{function r(e){let t=document.querySelectorAll(e);if(t.length>0)return t[t.length-1]}function o(){let e=r("meta[name=analytics-location]");return e?e.content:window.location.pathname}function l(){let e=r("meta[name=analytics-location-query-strip]"),t="";e||(t=window.location.search);let n=r("meta[name=analytics-location-params]");for(let e of(n&&(t+=(t?"&":"?")+n.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let n=e.content.split(":",2);t=t.replace(RegExp(`(^|[?&])${n[0]}($|=)`,"g"),`$1${n[1]}$2`)}return t}function a(){return`${window.location.protocol}//${window.location.host}${o()+l()}`}n.d(t,{S:()=>a})},49421:(e,t,n)=>{n.d(t,{a:()=>r});function r(e,t,n){if(!t)return;let r=t.className.includes("cm-content")?t:t.querySelector(".cm-content");r&&r.dispatchEvent(new CustomEvent(e,{detail:n}))}},24601:(e,t,n)=>{n.d(t,{aJ:()=>L,cI:()=>q,eK:()=>y});var r=n(82918),o=n(83314),l=n(28382),a=n(89359),i=n(68202),s=n(53729),c=n(86283),u=n(46426);let d=!1,f=0,m=Date.now(),p=new Set(["Failed to fetch","NetworkError when attempting to fetch resource."]);function b(e){return e instanceof Error||"object"==typeof e&&null!==e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message}function h(e){try{return JSON.stringify(e)}catch{return"Unserializable"}}function g(e){return!!("AbortError"===e.name||"TypeError"===e.name&&p.has(e.message)||e.name.startsWith("ApiError")&&p.has(e.message))}function y(e,t={}){if((0,u.c)("FAILBOT_HANDLE_NON_ERRORS")){if(!b(e)){let n=Error(),r=h(e),o={type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof e}, with value ${r}`,stacktrace:q(n)};v(S(o,t));return}g(e)||v(S(w(e),t))}else g(e)||v(S(w(e),t))}async function v(e){if(!_())return;let t=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(t){if(E(e.error.stacktrace)){d=!0;return}f++;try{await fetch(t,{method:"post",body:JSON.stringify(e)})}catch{}}}function w(e){return{type:e.name,value:e.message,stacktrace:q(e)}}function S(e,t={}){return Object.assign({error:e,sanitizedUrl:(0,a.S)()||window.location.href,readyState:document.readyState,referrer:(0,i.wP)(),timeSinceLoad:Math.round(Date.now()-m),user:L()||void 0,bundler:s.A7,ui:Boolean(document.querySelector('meta[name="ui"]'))},t)}function q(e){return(0,l.Q)(e.stack||"").map(e=>({filename:e.file||"",function:String(e.methodName),lineno:(e.lineNumber||0).toString(),colno:(e.column||0).toString()}))}let j=/(chrome|moz|safari)-extension:\/\//;function E(e){return e.some(e=>j.test(e.filename)||j.test(e.function))}function L(){let e=document.head?.querySelector('meta[name="user-login"]')?.content;if(e)return e;let t=(0,r.b)();return`anonymous-${t}`}let T=!1;function _(){return!T&&!d&&f<10&&(0,o.Gb)()}if(c.iG?.addEventListener("pageshow",()=>T=!1),c.iG?.addEventListener("pagehide",()=>T=!0),"function"==typeof BroadcastChannel){let e=new BroadcastChannel("shared-worker-error");e.addEventListener("message",e=>{y(e.data.error)})}},95253:(e,t,n)=>{let r;n.d(t,{Y:()=>f,q:()=>m});var o=n(88149),l=n(86058),a=n(44544),i=n(71643);let{getItem:s}=(0,a.Z)("localStorage"),c="dimension_",u=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,o.n)("octolytics");delete e.baseContext,r=new l.R(e)}catch(e){}function d(e){let t=(0,o.n)("octolytics").baseContext||{};if(t)for(let[e,n]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=n,delete t[e]);let n=document.querySelector("meta[name=visitor-payload]");if(n){let e=JSON.parse(atob(n.content));Object.assign(t,e)}let r=new URLSearchParams(window.location.search);for(let[e,n]of r)u.includes(e.toLowerCase())&&(t[e]=n);return t.staff=(0,i.B)().toString(),Object.assign(t,e)}function f(e){r?.sendPageView(d(e))}function m(e,t={}){let n=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,o=n?{service:n}:{};for(let[e,n]of Object.entries(t))null!=n&&(o[e]=`${n}`);r&&(d(o),r.sendEvent(e||"unknown",d(o)))}},7180:(e,t,n)=>{n.d(t,{O:()=>u,d:()=>TrustedTypesPolicyError});var r=n(46426),o=n(71643),l=n(24601),a=n(27856),i=n.n(a),s=n(95253);let TrustedTypesPolicyError=class TrustedTypesPolicyError extends Error{};function c({policy:e,policyName:t,fallback:n,fallbackOnError:a=!1,sanitize:c,silenceErrorReporting:u=!1}){try{if((0,r.c)("BYPASS_TRUSTED_TYPES_POLICY_RULES"))return n;(0,o.b)({incrementKey:"TRUSTED_TYPES_POLICY_CALLED",trustedTypesPolicyName:t});let l=e();return c&&new Promise(e=>{let n=window.performance.now(),r=i().sanitize(l,{FORBID_ATTR:[]}),o=window.performance.now();if(l.length!==r.length){let a=Error("Trusted Types policy output sanitized"),i=a.stack?.slice(0,1e3),c=l.slice(0,250);(0,s.q)("trusted_types_policy.sanitize",{policyName:t,output:c,stack:i,outputLength:l.length,sanitizedLength:r.length,executionTime:o-n}),e(l)}}),l}catch(e){if(e instanceof TrustedTypesPolicyError||(u||(0,l.eK)(e),(0,o.b)({incrementKey:"TRUSTED_TYPES_POLICY_ERROR",trustedTypesPolicyName:t}),!a))throw e}return n}let u={apply:c}},22490:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(86283);function o(e){return()=>{throw TypeError(`The policy does not implement the function ${e}`)}}let l={createHTML:o("createHTML"),createScript:o("createScript"),createScriptURL:o("createScriptURL")},a={createPolicy:(e,t)=>({name:e,...l,...t})},i=globalThis.trustedTypes??a,s=!1;r.n4?.addEventListener("securitypolicyviolation",e=>{"require-trusted-types-for"!==e.violatedDirective||s||(console.warn(`Hi fellow Hubber!
    You're probably seeing a Report Only Trusted Types error near this message. This is intended behaviour, staff-only,
    does not impact application control flow, and is used solely for statistic collection. Unfortunately we
    can't gather these statistics without adding the above warnings to your console. Sorry about that!
    Feel free to drop by #pse-architecture if you have any additional questions about Trusted Types or CSP.`),s=!0)})}},e=>{var t=t=>e(e.s=t);e.O(0,["vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_stacktrace-parser_dist_stack-trace-parser_esm_js-node_modules_github_bro-a4c183","vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_codemirror_lib_codemirror_js","vendors-node_modules_codemirror-contrib_lib_mode_meta_js-node_modules_codemirror_addon_commen-0e0311","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_delegated-events_dist_in-d4c6bb","ui_packages_soft-nav_soft-nav_ts","app_assets_modules_github_editor_code-editor_ts"],()=>t(34024));var n=e.O()}]);
//# sourceMappingURL=editor-4ad82d6a4732.js.map